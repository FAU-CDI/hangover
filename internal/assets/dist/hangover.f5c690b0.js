document.querySelectorAll(".tripletable").forEach(e=>{let t=Array.from(e.querySelectorAll("code.uri")),r=Array.from(e.querySelectorAll("tbody tr")),l=["violet","blue","red","indigo","green","orange"],n=0,a=new Map,o=()=>{t.forEach(e=>{let t=e.innerText,r=a.get(t);r?e.style.color=r:e.style.color=""})},i=()=>{a.clear(),o(),n=0},d=e=>{let t=e.innerText;console.log(e.innerText),a.has(t)?a.delete(t):(a.set(t,l[n]),n=(n+1)%l.length),o()},c=Array(r.length);r.forEach((e,t)=>{e.setAttribute("data-original-index",t.toString(10)),c[t]=new Set(Array.from(e.querySelectorAll("code.uri")).map(e=>e.innerText))});let u=()=>{r.forEach(e=>{let t=e.parentNode;t.removeChild(e),t.appendChild(e)})},s=()=>{r.sort((e,t)=>{let r=parseInt(e.getAttribute("data-original-index"),10),l=parseInt(t.getAttribute("data-original-index"),10);return r-l}),u()},y=e=>{let t=e.innerText;r.sort((e,r)=>{let l=parseInt(e.getAttribute("data-original-index"),10),n=parseInt(r.getAttribute("data-original-index"),10),a=c[l].has(t),o=c[n].has(t);return a===o?l-n:a?-1:1}),u(),e.scrollIntoView({behavior:"smooth"})};t.forEach(e=>{e.addEventListener("click",t=>{if(t.ctrlKey||t.metaKey){t.preventDefault(),d(e);return}if(t.altKey){t.preventDefault(),y(e);return}})}),e.querySelectorAll("thead tr").forEach(e=>e.addEventListener("click",e=>{!function(e){if(e.ctrlKey||e.metaKey){e.preventDefault(),i();return}e.altKey&&(e.preventDefault(),s())}(e)}))}),document.querySelectorAll(".showable").forEach(e=>{let t=e.querySelector(".toggle")??document.createElement("div");t.parentNode&&t.parentNode.removeChild(t),e.parentElement?.insertBefore(t,e);let r=e.style.display||"block",l=e.getAttribute("data-placeholder")??"Show",n=t.innerText||"Hide",a=a=>{a&&a.preventDefault(),t.innerText=o?n:l,o?(e.style.display=r,o=!1):(e.style.display="none",o=!0)},o=!1;t.addEventListener("click",a),a(null)});