document.querySelectorAll(".tripletable").forEach((e=>{const t=Array.from(e.querySelectorAll("code.uri")),r=Array.from(e.querySelectorAll("tbody tr")),n=["violet","blue","red","indigo","green","orange"];let l=0;const o=new Map,a=()=>{t.forEach((e=>{const t=e.innerText,r=o.get(t);e.style.color=r||""}))},i=new Array(r.length);r.forEach(((e,t)=>{e.setAttribute("data-original-index",t.toString(10)),i[t]=new Set(Array.from(e.querySelectorAll("code.uri")).map((e=>e.innerText)))}));const c=()=>{r.forEach((e=>{const t=e.parentNode;t.removeChild(e),t.appendChild(e)}))};t.forEach((e=>{e.addEventListener("click",(t=>t.ctrlKey||t.metaKey?(t.preventDefault(),void(e=>{const t=e.innerText;console.log(e.innerText),o.has(t)?o.delete(t):(o.set(t,n[l]),l=(l+1)%n.length),a()})(e)):t.altKey?(t.preventDefault(),void(e=>{const t=e.innerText;r.sort(((e,r)=>{const n=parseInt(e.getAttribute("data-original-index"),10),l=parseInt(r.getAttribute("data-original-index"),10),o=i[n].has(t);return o===i[l].has(t)?n-l:o?-1:1})),c(),e.scrollIntoView({behavior:"smooth"})})(e)):void 0))})),e.querySelectorAll("thead tr").forEach((e=>e.addEventListener("click",(e=>{!function(e){e.ctrlKey||e.metaKey?(e.preventDefault(),o.clear(),a(),l=0):e.altKey&&(e.preventDefault(),r.sort(((e,t)=>parseInt(e.getAttribute("data-original-index"),10)-parseInt(t.getAttribute("data-original-index"),10))),c())}(e)}))))})),document.querySelectorAll(".showable").forEach((e=>{const t=e.querySelector(".toggle")??document.createElement("div");t.parentNode&&t.parentNode.removeChild(t),e.parentElement?.insertBefore(t,e);const r=e.style.display||"block",n=e.getAttribute("data-placeholder")??"Show",l=t.innerText||"Hide",o=o=>{o&&o.preventDefault(),t.innerText=a?l:n,a?(e.style.display=r,a=!1):(e.style.display="none",a=!0)};let a=!1;t.addEventListener("click",o),o(null)}));